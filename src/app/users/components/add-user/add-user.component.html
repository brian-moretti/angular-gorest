<main class="add-user">
  <form #newUserForm="ngForm" (ngSubmit)="createUser(newUserForm)">
    <button class="close" type="button" (click)="close(newUserForm)">
      <i class="pi pi-times-circle"></i>
    </button>
    <span class="p-float-label">
      <input
        pInputText
        #username="ngModel"
        type="text"
        id="username"
        [(ngModel)]="newUser.name"
        name="username"
        (blur)="onFieldChange()"
        autocomplete="off"
        minlength="3"
        required
      />
      <label htmlFor="username">Username</label>
    </span>
    <div
      class="error"
      *ngIf="!username.valid && (username.touched || username.dirty)"
    >
      The Username is mandatory
    </div>
    <div class="error" *ngIf="showError && username.errors?.['minlength']">
      Must have a minimum of
      {{ username.errors?.['minlength'].requiredLength }} characters
    </div>
    <span class="p-float-label">
      <input
        pInputText
        id="email"
        [(ngModel)]="newUser.email"
        name="email"
        type="email"
        required
      />
      <label htmlFor="email">Email</label>
    </span>
    <div class="gender">
      <div>
        <p-radioButton
          name="gender"
          value="Male"
          [(ngModel)]="newUser.gender"
          inputId="male"
          required
        ></p-radioButton>
        <label for="male">Male</label>
      </div>

      <div>
        <p-radioButton
          name="gender"
          value="Female"
          [(ngModel)]="newUser.gender"
          inputId="female"
          required
        ></p-radioButton>
        <label for="female">Female</label>
      </div>
    </div>

    <p-selectButton
      [options]="stateOptions"
      [(ngModel)]="newUser.status"
      optionLabel="label"
      optionValue="value"
      name="status"
      required
    ></p-selectButton>

    <p-button
      type="submit"
      label="CREATE USER"
      class="p-button-success"
      [disabled]="!newUserForm.valid"
    ></p-button>
  </form>
</main>
